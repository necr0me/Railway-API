---
swagger: '2.0'
info:
  title: Railway-API
  version: v1
  description: Railway-API documentation
paths:
  "/api/v1/carriage_types":
    get:
      summary: Retrieves all carriage types. By necr0me
      tags:
      - Carriage types
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage types found
          examples:
            application/json:
              carriage_types:
              - id: 9637
                name: Ben D. Fender
                description: Fritsch Inc
                capacity: 8
                created_at: '2023-02-17T17:10:11.887Z'
                updated_at: '2023-02-17T17:10:11.887Z'
              - id: 9638
                name: Al Kaholic
                description: O'Conner LLC
                capacity: 8
                created_at: '2023-02-17T17:10:11.891Z'
                updated_at: '2023-02-17T17:10:11.891Z'
              - id: 9639
                name: Carrie Oakey
                description: Yost, Zulauf and Parisian
                capacity: 8
                created_at: '2023-02-17T17:10:11.894Z'
                updated_at: '2023-02-17T17:10:11.894Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
    post:
      summary: Creates new carriage type. By necr0me
      tags:
      - Carriage types
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
            capacity:
              type: integer
          require:
          - name
          - capacity
          - description
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Carriage type successfully created
          examples:
            application/json:
              message: Carriage type successfully created
              carriage_type:
                id: 9640
                name: Chad Terbocks
                description: Reichel, Cronin and Balistreri
                capacity: 8
                created_at: '2023-02-17T17:10:11.971Z'
                updated_at: '2023-02-17T17:10:11.971Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '422':
          description: Error occurred during carriage type create
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Name is too short (minimum is 3 characters)
              - Capacity must be greater than or equal to 0
  "/api/v1/carriage_types/{carriage_type_id}":
    put:
      summary: Updates carriage type. By necr0me
      tags:
      - Carriage types
      consumes:
      - application/json
      parameters:
      - name: carriage_type_id
        in: path
        type: string
        required: true
        description: Id of carriage type that you want to update
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            description:
              type: string
            capacity:
              type: integer
          require:
          - name
          - capacity
          - description
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage type successfully updated
          examples:
            application/json:
              message: Carriage type successfully updated
              carriage_type:
                name: New name
                description: New description
                capacity: 4
                id: 9642
                created_at: '2023-02-17T17:10:12.010Z'
                updated_at: '2023-02-17T17:10:12.056Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Carriage type not found
          examples:
            application/json:
              message: Couldn't find CarriageType with 'id'=-1
        '422':
          description: Error occurred during carriage type update
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Can't update carriage type capacity that has any carriages
    delete:
      summary: Deletes carriage type. By necr0me
      tags:
      - Carriage types
      parameters:
      - name: carriage_type_id
        in: path
        type: string
        required: true
        description: Id of carriage type that you want to destroy
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '204':
          description: Carriage type successfully destroyed
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Carriage type not found
          examples:
            application/json:
              message: Couldn't find CarriageType with 'id'=-1
        '422':
          description: Error occurred during carriage type destroy
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Can't destroy carriage type that has any carriages
  "/api/v1/carriages":
    get:
      summary: Retrieves all carriages. By necr0me
      tags:
      - Carriages
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriages found
          examples:
            application/json:
              carriages:
              - id: 6648
                name: Zeus
                carriage_type_id: 9653
                created_at: '2023-02-17T17:10:12.215Z'
                updated_at: '2023-02-17T17:10:12.215Z'
                order_number: 27
                train_id: 
              - id: 6647
                name: Ares
                carriage_type_id: 9652
                created_at: '2023-02-17T17:10:12.209Z'
                updated_at: '2023-02-17T17:10:12.209Z'
                order_number: 28
                train_id: 
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
    post:
      summary: Creates new carriage. By necr0me
      tags:
      - Carriages
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            carriage_type_id:
              type: integer
          required:
          - name
          - carriage_type_id
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Carriage successfully created
          examples:
            application/json:
              message: Carriage was successfully created
              carriage:
                id: 6649
                name: Hera
                carriage_type_id: 9654
                created_at: '2023-02-17T17:10:12.254Z'
                updated_at: '2023-02-17T17:10:12.254Z'
                order_number: 
                train_id: 
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '422':
          description: Error occurred during carriage create
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Type must exist
              - Name is too short (minimum is 3 characters)
  "/api/v1/carriages/{carriage_id}":
    get:
      summary: Get concrete carriage. By necr0me
      tags:
      - Carriages
      parameters:
      - name: carriage_id
        in: path
        type: string
        required: true
        description: Id of carriage that you want to see
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage found
          examples:
            application/json:
              carriage:
                id: 6651
                name: Artemis
                carriage_type_id: 9658
                created_at: '2023-02-17T17:10:12.299Z'
                updated_at: '2023-02-17T17:10:12.299Z'
                order_number: 16
                train_id: 
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '404':
          description: Carriage not found
          examples:
            application/json:
              message: Couldn't find Carriage with 'id'=-1
    put:
      summary: Update concrete carriage. By necr0me
      tags:
      - Carriages
      consumes:
      - application/json
      parameters:
      - name: carriage_id
        in: path
        type: string
        required: true
        description: Id of carriage that you want to update
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            carriage_type_id:
              type: integer
          required:
          - name
          - carriage_type_id
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage successfully updated
          examples:
            application/json:
              message: Carriage name was successfully updated
              carriage:
                name: New name
                carriage_type_id: 9660
                id: 6653
                created_at: '2023-02-17T17:10:12.336Z'
                updated_at: '2023-02-17T17:10:12.347Z'
                order_number: 10
                train_id: 
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Carriage not found
          examples:
            application/json:
              message: Couldn't find Carriage with 'id'=-1
        '422':
          description: Error occurred during carriage update
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Name is too short (minimum is 3 characters)
    delete:
      summary: Destroy concrete carriage. By necr0me
      tags:
      - Carriages
      parameters:
      - name: carriage_id
        in: path
        type: string
        require: true
        description: Id of carriage that you want to destroy
        required: true
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '204':
          description: Carriage successfully destroyed
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Carriage not found
          examples:
            application/json:
              message: Couldn't find Carriage with 'id'=-1
        '422':
          description: Error occurred during carriage destroy
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Error message
  "/api/v1/profile":
    get:
      summary: Retrieves user profile. By necr0me
      tags:
      - Profile
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Profile found
          examples:
            application/json:
              id: 1252
              name: John
              surname: Doe
              patronymic: Doehovich
              phone_number: "+375337777777"
              passport_code: KH2321332
              user_id: 16622
              created_at: '2023-02-17T17:10:12.513Z'
              updated_at: '2023-02-17T17:10:12.513Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
    post:
      summary: Creates user profile. By necr0me
      tags:
      - Profile
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            surname:
              type: string
            patronymic:
              type: string
            phone_number:
              type: string
            passport_code:
              type: string
          required:
          - name
          - surname
          - patronymic
          - phone_number
          - passport_code
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Profile successfully created
          examples:
            application/json:
              profile:
                id: 1253
                name: John
                surname: Doe
                patronymic: Doehovich
                phone_number: "+375337777777"
                passport_code: KH2321332
                user_id: 16623
                created_at: '2023-02-17T17:10:12.536Z'
                updated_at: '2023-02-17T17:10:12.536Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '422':
          description: Error occurred during profile create
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Surname can't be blank
              - Patronymic can't be blank
              - Phone number can't be blank
              - Passport code can't be blank
              - Name is too short (minimum is 2 characters)
              - Surname is too short (minimum is 2 characters)
              - Patronymic is too short (minimum is 5 characters)
              - Passport code is invalid
              - Phone number is too short (minimum is 7 characters)
    put:
      summary: Updates user profile. By necr0me
      tags:
      - Profile
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
            surname:
              type: string
            patronymic:
              type: string
            phone_number:
              type: string
            passport_code:
              type: string
          required:
          - name
          - surname
          - patronymic
          - phone_number
          - passport_code
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Profile found
          examples:
            application/json:
              profile:
                user_id: 16625
                name: New name
                surname: Doe
                patronymic: Doehovich
                phone_number: "+375337777777"
                id: 1254
                passport_code: KH2321332
                created_at: '2023-02-17T17:10:12.566Z'
                updated_at: '2023-02-17T17:10:12.571Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '422':
          description: Error occurred during profile update
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Name is too short (minimum is 2 characters)
  "/api/v1/routes":
    post:
      summary: Creates empty route. By necr0me
      tags:
      - Routes
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Route successfully created
          examples:
            application/json:
              message: Route was created
              route:
                id: 5016
                created_at: '2023-02-17T17:10:12.608Z'
                updated_at: '2023-02-17T17:10:12.608Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '422':
          description: Error occurred during route creation
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Error message
  "/api/v1/routes/{route_id}":
    get:
      summary: Find concrete route. By necr0me
      tags:
      - Routes
      parameters:
      - name: route_id
        in: path
        type: string
        required: true
        description: Id of route
      produces:
      - application/json
      responses:
        '200':
          description: Route found
          examples:
            application/json:
              route:
                id: 5019
                created_at: '2023-02-17T17:10:12.641Z'
                updated_at: '2023-02-17T17:10:12.641Z'
              stations:
              - id: 14057
                name: Mogilev
                created_at: '2023-02-17T17:10:12.655Z'
                updated_at: '2023-02-17T17:10:12.655Z'
              - id: 14058
                name: Mosty
                created_at: '2023-02-17T17:10:12.660Z'
                updated_at: '2023-02-17T17:10:12.660Z'
              - id: 14059
                name: Hrodna
                created_at: '2023-02-17T17:10:12.664Z'
                updated_at: '2023-02-17T17:10:12.664Z'
        '404':
          description: Route not found
          examples:
            application/json:
              message: Couldn't find Route with 'id'=-1
    delete:
      summary: Delete concrete route. By necr0me
      tags:
      - Routes
      parameters:
      - name: route_id
        in: path
        type: string
        required: true
        description: Id of route
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '204':
          description: Route successfully destroyed
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Route not found
          examples:
            application/json:
              message: Couldn't find Route with 'id'=-1
        '422':
          description: Error occurred during route destroying
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Error message
  "/api/v1/routes/{route_id}/add_station":
    post:
      summary: Add existing station to existing route. By necr0me
      tags:
      - Routes
      consumes:
      - application/json
      parameters:
      - name: route_id
        type: integer
        in: path
        required: true
        description: Id of route which to you want add station
      - name: params
        in: body
        schema:
          type: object
          properties:
            station_id:
              type: string
          required: station_id
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Station successfully added to route
          examples:
            application/json:
              message: Station was successfully added to route
              station:
                id: 14069
                name: Melbourne
                created_at: '2023-02-17T17:10:12.888Z'
                updated_at: '2023-02-17T17:10:12.888Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Route not found
          examples:
            application/json:
              message: Couldn't find Route with 'id'=-1
        '422':
          description: Station does not exist
          examples:
            application/json:
              message: Something went wrong
              errors:
              - 'Validation failed: Station must exist'
  "/api/v1/routes/{route_id}/remove_station/{station_id}":
    delete:
      summary: Remove station from route. By necr0me
      tags:
      - Routes
      parameters:
      - name: route_id
        in: path
        type: string
        required: true
        description: Id of route where from station removing
      - name: station_id
        in: path
        type: string
        required: true
        description: Id of station that removing from route
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Successfully remove station from route
          examples:
            application/json:
              message: Station was successfully removed from route
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Route not found
          examples:
            application/json:
              message: Couldn't find Route with 'id'=-1
        '422':
          description: Station already not in route
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Couldn't find StationOrderNumber with [WHERE "station_order_numbers"."route_id"
                = $1 AND "station_order_numbers"."station_id" = $2]
  "/api/v1/stations":
    get:
      summary: Gets all stations. By necr0me
      tags:
      - Stations
      produces:
      - application/json
      parameters:
      - name: station
        in: query
        type: string
        required: false
        description: Name of station or first N letters of station name
      responses:
        '200':
          description: Stations found (From query "?station=Mo")
          examples:
            application/json:
            - id: 14098
              name: Mogilev
              created_at: '2023-02-17T17:10:13.254Z'
              updated_at: '2023-02-17T17:10:13.254Z'
            - id: 14099
              name: Mosty
              created_at: '2023-02-17T17:10:13.257Z'
              updated_at: '2023-02-17T17:10:13.257Z'
    post:
      summary: Create a new station. By necr0me
      tags:
      - Stations
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
          required: name
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Station created
          examples:
            application/json:
              station:
                id: 14101
                name: Melbourne
                created_at: '2023-02-17T17:10:13.277Z'
                updated_at: '2023-02-17T17:10:13.277Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '422':
          description: Errors during station creation
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Name is too short (minimum is 2 characters)
  "/api/v1/stations/{id}":
    get:
      summary: Get concrete station. By necr0me
      tags:
      - Stations
      produces:
      - application/json
      parameters:
      - name: id
        in: path
        type: string
        required: true
        description: Id of station
      responses:
        '200':
          description: Station was found
          examples:
            application/json:
              id: 14103
              name: Melbourne
              created_at: '2023-02-17T17:10:13.311Z'
              updated_at: '2023-02-17T17:10:13.311Z'
        '404':
          description: Station not found
          examples:
            application/json:
              message: Couldn't find Station with 'id'=-1
    put:
      summary: Update concrete station. By necr0me
      tags:
      - Stations
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            name:
              type: string
          required: name
      - name: id
        in: path
        type: string
        required: true
        description: Id of station
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Station updated
          examples:
            application/json:
              station:
                name: New name
                id: 14104
                created_at: '2023-02-17T17:10:13.323Z'
                updated_at: '2023-02-17T17:10:13.333Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Station not found
          examples:
            application/json:
              message: Couldn't find Station with 'id'=-1
        '422':
          description: Something went wrong during station update
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Name can't be blank
              - Name is too short (minimum is 2 characters)
    delete:
      summary: Delete concrete station. By necr0me
      tags:
      - Stations
      produces:
      - application/json
      parameters:
      - name: id
        in: path
        type: string
        required: true
        description: Id of station
      security:
      - Bearer: {}
      responses:
        '204':
          description: Successfully destroyed station
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Station not found
          examples:
            application/json:
              message: Couldn't find Station with 'id'=-1
        '422':
          description: Something went wrong during station destroying
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Error message
  "/api/v1/trains":
    get:
      summary: Retrieves all trains. By necr0me
      tags:
      - Trains
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Trains found
          examples:
            application/json:
              trains:
              - id: 4008
                route_id: 
                created_at: '2023-02-17T17:10:13.444Z'
                updated_at: '2023-02-17T17:10:13.444Z'
              - id: 4009
                route_id: 
                created_at: '2023-02-17T17:10:13.447Z'
                updated_at: '2023-02-17T17:10:13.447Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
    post:
      summary: Creates new empty train. By necr0me
      tags:
      - Trains
      consumes:
      - application/json
      parameters:
      - name: params
        in: body
        schema:
          type: object
          properties:
            route_id:
              type: integer
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '201':
          description: Train successfully created
          examples:
            application/json:
              message: Train was successfully created
              train:
                id: 4010
                route_id: 5033
                created_at: '2023-02-17T17:10:13.480Z'
                updated_at: '2023-02-17T17:10:13.480Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '422':
          description: Error occurred during train create
          examples:
            application/json:
              message: Seems like this entity does not exist
  "/api/v1/trains/{train_id}":
    get:
      summary: Show concrete train. By necr0me
      tags:
      - Trains
      parameters:
      - name: train_id
        in: path
        type: string
        required: true
        description: Id of train that you want to see
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Train found
          examples:
            application/json:
              train:
                id: 4013
                route_id: 
                created_at: '2023-02-17T17:10:13.515Z'
                updated_at: '2023-02-17T17:10:13.515Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Train not found
          examples:
            application/json:
              message: Couldn't find Train with 'id'=-1
    put:
      summary: Update concrete train. By necr0me
      tags:
      - Trains
      consumes:
      - application/json
      parameters:
      - name: train_id
        in: path
        type: string
        required: true
        description: Id of train that you want to update
      - name: params
        in: body
        schema:
          type: object
          properties:
            route_id:
              type: integer
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Train successfully updated
          examples:
            application/json:
              message: Train was successfully updated
              train:
                route_id: 5036
                id: 4016
                created_at: '2023-02-17T17:10:13.849Z'
                updated_at: '2023-02-17T17:10:13.954Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Train not found
          examples:
            application/json:
              message: Couldn't find Train with 'id'=-1
        '422':
          description: Error occurred during train update
          examples:
            application/json:
              message: Seems like this entity does not exist
    delete:
      summary: Destroy concrete train. By necr0me
      tags:
      - Trains
      parameters:
      - name: train_id
        in: path
        type: string
        required: true
        description: Id of train that you want to update
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '204':
          description: Train successfully destroyed
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Train not found
          examples:
            application/json:
              message: Couldn't find Train with 'id'=-1
        '422':
          description: Error occurred during adding carriage to train
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Error message
  "/api/v1/trains/{train_id}/add_carriage":
    post:
      summary: Add concrete carriage to train. By necr0me
      tags:
      - Trains
      consumes:
      - application/json
      parameters:
      - name: train_id
        in: path
        type: string
        required: true
        description: Id of train which to you want add carriage
      - name: params
        in: body
        schema:
          type: object
          properties:
            carriage_id:
              type: integer
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage successfully added to train
          examples:
            application/json:
              message: Carriage was successfully added to train
              carriage:
                train_id: 4024
                order_number: 1
                name: Zeus
                carriage_type_id: 9701
                id: 6694
                created_at: '2023-02-17T17:10:14.815Z'
                updated_at: '2023-02-17T17:10:14.825Z'
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Train not found
          examples:
            application/json:
              message: Couldn't find Train with 'id'=-1
        '422':
          description: Error occurred during adding carriage to train
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Couldn't find Carriage with 'id'=-1
  "/api/v1/trains/{train_id}/remove_carriage/{carriage_id}":
    delete:
      summary: Remove concrete carriage from train. By necr0me
      tags:
      - Trains
      parameters:
      - name: train_id
        in: path
        type: string
        required: true
        description: Id of train which from you want to remove carriage
      - name: carriage_id
        in: path
        type: string
        required: true
        description: Id of carriage which you want to remove from train
      produces:
      - application/json
      security:
      - Bearer: {}
      responses:
        '200':
          description: Carriage successfully removed from train
          examples:
            application/json:
              message: Carriage was successfully removed from train
        '401':
          description: You are unauthorized
          examples:
            application/json:
              message: You're not logged in
              errors:
              - Nil JSON web token
        '403':
          description: You are forbidden to perform this action
          examples:
            application/json:
              message: You are not allowed to do this action
        '404':
          description: Train not found
          examples:
            application/json:
              message: Couldn't find Train with 'id'=-1
        '422':
          description: Error occurred during removing carriage from train
          examples:
            application/json:
              message: Something went wrong
              errors:
              - Can't remove carriage that not in train
securityDefinitions:
  Bearer:
    description: Authorization header (JWT-token)
    type: apiKey
    name: Authorization
    in: header
servers:
- url: http://{defaultHost}/
  variables:
    defaultHost:
      default: localhost:3000
